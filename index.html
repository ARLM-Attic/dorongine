<!doctype html>
<html>

	<head>
		<title>Synned</title>
		<link href="css/bootstrap.css" rel="stylesheet" type="text/css"></link>
		<link href="css/bootstrap-theme.css" rel="stylesheet" type="text/css"></link>
		<link href="app/css/synned.css" rel="stylesheet" type="text/css"></link>
	</head>
	<body>

		<div id="container">

		</div>

		<script id='template' type='text/ractive'>
			<div id="debug">
			{{game.ticks}}
			</div>
			
			<div id="knowledge" class="holder">
				<table>
				{{# game.topics :name}}
				<tr>
				<td width="60%">{{name}} {{level}}</td>
				<td>{{knowledge}} / {{target}}</td>
				<td class="knowledge-input">
					<select value="{{percentage}}">
						<option value="0">0</option>
						<option value="10">10</option>
						<option value="20">20</option>
						<option value="30">30</option>
						<option value="40">40</option>
						<option value="50">50</option>
						<option value="60">60</option>
						<option value="70">70</option>
						<option value="80">80</option>
						<option value="90">90</option>
						<option value="100">100</option>
					</select>
				</td>
				</tr>
				{{/ game.topics}}
				</table>
			</div>

			<div id="resources" class="holder">
				<div id="raw-resources">
				<table>
					{{# types.itemsByComponent('raw') }}
					<tr>
					<td width="60%">
					<button data-type="{{name}}" on-tap="collectItem">{{name}}</button>
					</td>
					<td>
					<span class="resource-count">{{game.items[name].amount}}</span>
					</td>
					</tr>
					{{/ types}}
				</table>
				</div>
				
				<div id="mined-resources">
				<table>
					<tr>
					<td></td><td><button on-tap="mine">Mine ({{game.globalRates.mined}}% efficient)</button></td>
					</tr>
					{{# types.itemsByComponent('mined') }}
					<tr>
					<td width="60%">
					{{name}}
					</td>
					<td>
					<span class="resource-count">{{game.items[name].amount}}</span>
					</td>
					</tr>
					{{/ types}}
				</table>
				</div>
			</div>

			<div id="creatable"  class="holder">
			<h2>Items</h2>
				<table>
					<tr>
					<th></th>
					<th></th>
					<th></th>
					<th width="20%">Requires</th>
					<th width="60%"></th>
					</tr>
					{{# types.itemsByComponent('created') }}
					<tr>
					<td>
						{{#canBuy(this)}}
						<button on-tap="buyItem">Buy</button>
						{{/canBuy}}
					</td>
					<td>
					<span class="item-amount">{{game.items[name].amount}}</span>
					</td>

					<td>
					{{name}}
					</td>
					
					<td>
					{{#components.created.consumes :resource}}
					<p>{{resource}} {{this}}</p>
					{{/components}}
					</td>
					<td>
					{{#requires.topics :topic}}
						<p>{{topic}} level {{this}}</p>
					{{/ requires}}
					</td>
					</tr>
					
				</table>
			</div>
		</script>

		<script type="text/javascript" src="js/jquery-2.0.0.min.js"></script>
		<script type="text/javascript" src="js/ractive.js"></script>
		<script type="text/javascript" src="js/ractive-events-tap.js"></script>
		<script type="text/javascript" src="app/js/synned.js"></script>
		<script type="text/javascript" src="app/js/agents.js"></script>
		<script type="text/javascript" src="app/js/types.js"></script>
		<script type="text/javascript" src="app/js/commands.js"></script>
	</body>
</html>